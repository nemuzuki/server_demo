### Go语言工程实践——实现简易论坛服务端

这篇文章是在我完成极简版抖音项目之后撰写的，相比刚听网课的时候的懵懵懂懂，书写过一些go代码后对这个作业的理解深入了很多。这个作业是实现一个服务端go程序，下面从零开始进行开发

#### 准备工作

首先建立一个名为server_demo的空目录作为项目根目录，然后使用`go mod init server_demo`初始化一个server_demo模块，此时会发现自动生成一个go.mod文件，该文件是模块的配置文件，此时里面只有模块名和go版本

```go
module server_demo

go 1.12
```

之后，我们需要导入go的web框架gin，执行`go get gopkg.in/gin-gonic/gin.v1@v1.3.0`，go.mod会多出一行，表示该模块依赖的模块（包）及其版本

```go
require gopkg.in/gin-gonic/gin.v1 v1.3.0 // indirect
```

还会生成一个go.sum文件，第一行表明了引用gopkg.in/gin-gonic/gin.v1包的版本为v1.3.0，后面是包的校验和；第二行则是该包的配置文件go.mod的校验和

```go
gopkg.in/gin-gonic/gin.v1 v1.3.0 h1:DjAu49rN1YttQsOkVCPlAO3INcZNFT0IKsNVMk5MRT4=
gopkg.in/gin-gonic/gin.v1 v1.3.0/go.mod h1:Eljh74A/zAvUOQ835v6ySeZ+5gQG6tKjbZTaZ9iWU3A=
```

#### 项目描述

项目背景：实现一个论坛，论坛里有很多Topic话题，每个话题下有若干Post帖子。业务：根据topic id查询topic名称，根据topic id查询话题下的所有帖子

根据项目分层原则，可以将代码分成如下目录：

- models目录下定义Topic、Post以及数据在内存中存放的数据结构
- dao目录下实现业务所需的原子操作，主要是对数据库的增删改查
- controller目录下实现接口
- routes目录下api.go写路由
- 主目录下main.go中写主函数

下面将分层阐述具体实现方法

#### models

#### dao

initTopicIndexMap将data文件中的数据存入Map中

#### controller

#### routes

#### main